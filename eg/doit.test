#!/usr/bin/perl
#
use strict;
use warnings;

cmd( "rm -f test" );
cmd( "g++ -o test -std=c++17 -O3 -I../../ -g -lz test.cpp" );   # -O0 -DLAYOUT_DEBUG is useful when debugging - faster compile
my @files = ("dimenions_straight_1col.gds");
for my $file ( @files )
{
    chomp $file;
    cmd( "./test ${file}" );
}

sub cmd
{
    my $c = shift;
    print "${c}\n";
    system( $c ) == 0 or die "ERROR: command failed: $c\n";
}
